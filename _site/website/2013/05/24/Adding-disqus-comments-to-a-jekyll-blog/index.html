<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta name="author" content="Andreas McDermott" />
  <meta name="viewport" content="width=device-width" />
  <title>AMcD - Adding Disqus comments to a Jekyll blog</title>
  <link rel="shortcut icon" href="/images/favicon.ico">
  <link href='http://fonts.googleapis.com/css?family=Roboto:400,300,500,700' rel='stylesheet' type='text/css'>
  <link href="//netdna.bootstrapcdn.com/font-awesome/3.1.1/css/font-awesome.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/site.css" type="text/css" />
</head>
<body class="blog">
  <div id="top" class="content">
    <a href="/"><div class="logo"></div></a>
    <div class="links center">
      <a href="/"><i class="icon-home" title="Home"></i></a>
      <a href="/blog"><i class="icon-pencil" title="Blog"></i></a>
      <!--<a href="/games"><i class="icon-gamepad" title="Games"></i></a>
      <a href="/photos"><i class="icon-camera" title="Photos"></i></a>-->
      <a href="/about"><i class="icon-info" title="About"></i></a>
    </div>
  </div>
  <div id="main" class="content">
    <div class="row">
  <div class="span9">
    <h1><a href="/blog"><i class="icon-arrow-left"></i></a>Adding Disqus comments to a Jekyll blog</h1>
    <p>Because Jekyll only serves static html-pages I have to use a commenting system that stores all the data for me. I only knew of <a href='http://disqus.com/' title='Disqus website'>Disqus</a>, so made some research to see what else was out there. I found a good article comparing the top three Google results when searching for &#8220;comments system&#8221;:</p>

<ul>
<li><a href='http://disqus.com/' title='Disqus website'>Disqus</a></li>

<li><a href='http://www.livefyre.com/' title='LiveFyre website'>LiveFyre</a></li>

<li><a href='http://intensedebate.com/' title='IntenseDebate website'>IntenseDebate</a></li>
</ul>

<p>They all seem to be good, but I decided on using Disqus.</p>

<h2 id='how_to_get_disqus_working_with_jekyll'>How to get Disqus working with Jekyll?</h2>

<p>It is very easy actually! I&#8217;ve outlined the steps I took below.</p>

<h3 id='step_1_sign_up_for_an_account'>Step 1: Sign up for an account</h3>

<p>Start with heading to Disqus&#8217; <a href='http://disqus.com/' title='Disqus website'>website</a> and sign up for an account (assuming you don&#8217;t already have one). Just follow their sign up process and you will be ready for step 2 in a few minutes.</p>

<h3 id='step_2_get_the_code'>Step 2: Get the code</h3>

<p>After setting up your site you are ready to add some code to your page.</p>

<p>Disqus has install instructions for many popular blog tools (like Wordpress, Tumblr, etc), but for Jekyll you should choose &#8220;Universal Code&#8221;.</p>

<p><img alt='Universal Code' src='/assets/disqus_universal.jpg' /></p>

<p>First, get the code that adds the comments to your page:</p>
<script src='https://gist.github.com/andreasmcdermott/5639846.js' />
<p>Copy that snippet to your post-layout-file where comments should appear. Don&#8217;t forget to replace &#8220;YOUR_SHORTNAME&#8221; with your actual shortname.</p>

<p>If you publish the changes your comments should already be working! But lets add some more features.</p>

<h3 id='step_3_add_option_to_turn_off_comments_for_a_post'>Step 3: Add option to turn off comments for a post</h3>

<p>Disqus allow you to specify that comments should be turned off for a post after a certain number of days. But it could also be nice to have the option to turn off comments completley for a post.</p>

<p>Put the following code around the Disqus code in step 2:</p>
<script src='https://gist.github.com/andreasmcdermott/5639837.js' />
<p>And then in your post you can add &#8220;allow_comments: false&#8221; in the front-matter when you want to disable comments for a specific post.</p>

<h3 id='step_4_get_comment_count_for_your_post'>Step 4: Get comment count for your post</h3>

<p>The final step is to add a comment count for each post. Disqus will give you that code as well.</p>
<script src='https://gist.github.com/andreasmcdermott/5639818.js' />
<p>Add that code to the bottom of your page that will be displaying comment counts. Then, for each post you&#8217;ll add a link like this:</p>
<script src='https://gist.github.com/andreasmcdermott/5639828.js' />
<p>Disqus will add the comment count for all links with the &#8220;#disqus_thread&#8221; automatically.</p>

<h3 id='done'>Done!</h3>

<p>And that is it. If you want to see a specific example, feel free to have a look at how I did it for my page. The code is available at <a href='http://github.com/andreasmcdermott/andreasmcdermott.github.io' title='The repository for my page'>GitHub</a>.</p>

    

      <div id="disqus_thread"></div>
      <script type="text/javascript">
          var disqus_shortname = 'amcd';
          (function() {
              var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
              dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
              (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    
  </div>
  <div class="span3">
    <div id="sidebar">
      <p>POSTED: <time datetime="2013-05-24 00:00:00 +0200">24 May 2013</time><br />
      CATEGORIES: website<br />
      TAGS: jekyll, disqus, website</p>
      
        <h3>Related posts</h3>
        <ul style="list-style-type: none;">
            
              
            
              
                <li><a href="/website/2013/05/22/switching-to-github-pages/">Switching to GitHub pages</a></li>
              
            
        </ul>
      
    </div>
  </div>
</div>

  </div>
  <div id="footer" class="content">
    <div class="links center">
      <a href="http://github.com/andreasmcdermott" title="GitHub"><i class="icon-github"></i></a>
      <a href="http://www.twitter.com/andreasmcd84" title="Twitter"><i class="icon-twitter"></i></a>
    </div>
  </div>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-41138550-1', 'andreasmcdermott.com');
    ga('send', 'pageview');

  </script>
</body>
</html>